//======================================================================================================================
// ??/??/17 - dgs - Initial - ??
//======================================================================================================================
// Set debug environments, any comma separated combination of 'dev','test','next'. e.g. debugEnvs:dev,test
wfDebugEnvs:dev
wfDebugLevel:3

//======================================================================================================================
//wfcomments = 'all', 'workflow', or some RegEx against the roles.  e.g. 'wfcomments: fyi(all)?$' or 'wfcomments: Committee$'
wfcomments:


//======================================================================================================================
// Define which variables are substituted -- used by getCimRoles script
// wfSubRule:<attrName>|<sql query> or [data enumeration]|<optional mapper type>
//======================================================================================================================
wfSubRule:Col|SELECT code,name,access FROM codedesc WHERE setname="college"|col
wfSubRule:Dept|SELECT code,name,access FROM codedesc WHERE setname="department"|dept
wfSubRule:AcadLevel|[UG,GR]

//======================================================================================================================
// Substitution variables
//======================================================================================================================
// Add tcfonly=true; to only substitute the tcf data
//======================================================================================================================
wfrules:Col|attr|college.code|; //Substitutes current & previous value of 'College' for 'Col'
wfrules:Dept|attr|department.code|; //Substitutes current & previous value of 'Department' for 'Dept'
wfrules:AcadLevel|attr|acad_level.code|; //Substitutes current value of 'Academic Level' for 'AcadLevel'

//======================================================================================================================
// Proposal state conditionals
//======================================================================================================================
wfrules:isNew|iffieldmatch|newrecord|value=true; //Proposal for a new program
wfrules:isNotNew|function|IsNotNew|; //Proposal is not for a new program
wfrules:isEdit|function|IsEdit|; //Proposal to modify an existing program
wfrules:isNotEdit|iffieldmatch|newrecord|value=true; //Proposal is not Edit
wfrules:isNotEdit|iffieldmatch|deleterec|value=true; //Proposal is not Edit
wfrules:isDelete|iffieldmatch|deleterec|value=true; //Proposal to delete an existing program
wfrules:isNotDelete|function|IsNotDelete|; //Proposal is not for a program deletion
wfrules:isNotNew|function|IsNotNew|; //Proposal is not for a new program
wfrules:isInactivate|function|IsInactivate|; //Proposal to delete an existing program
wfrules:isReactivate|function|IsReactivate|; //Proposal to reactivate an deleted program

//======================================================================================================================
// Academic level rules
//======================================================================================================================
wfUgRe:^(U.*)$
wfGrRe:^(G.*)$
wfLwRe:^(LW)$

wfrules:isUndergraduate|function|CheckAcadLevel|course_number,wfUgRe; //Proposal for an Undergraduate course
wfrules:isGraduate|function|CheckAcadLevel|course_number,wfGrRe; //Proposal for an Graduate course
wfrules:isLaw|function|CheckAcadLevel|course_number,wfGrRe; //Proposal for an Graduate course
wfrules:AcadLevel|function|GetAcadLevel|course_number,wfUgRe,UG,wfGrRe,GR;wfLwRe,LW //Returns the academic level, 'UG' or 'GR'

//======================================================================================================================
// Workflow iffieldmatch rules
//======================================================================================================================
//wfrules:????|iffieldmatch|???????.code|value=/^(C$%7CW)$/; //

//======================================================================================================================
// Workflow function bindings
//======================================================================================================================
//wfrules:????|function|???????|; //

//======================================================================================================================
// Standard Workflow function bindings
//======================================================================================================================
wfrules:ProposalState|function|ProposalState|; //Substitute proposal state for workflow selection
wfrules:WfStatus|function|TODO|; //Display workflow status in preview workflow
wfrules:Annotate|function|AnnotateWorkflow|; //Annotate workflow -- text to appear in preview workflow
wfrules:annotate|function|AnnotateWorkflow|; //Annotate workflow -- text to appear in preview workflow
wfrules:NoWorkflow|function|NoWorkflow|; //There is insufficient data to calculate workflow
wfrules:NotifyAllApprovers|function|NotifyAll|spprovers; //Adds steps to notify all previous approver steps in workflow
wfrules:isNotFirstStep|function|IsNotFirstStep|; //Include step only if it will not be the first step in workflow (i.e. for regen)
wfrules:wfLibVersion|attr|wfLibVersion|; //Display the version information for the workflowLib.atj file
wfrules:CheckOnDisk|function|CheckOnDisk|; //Check to make sure the proposal has been written out to disk
wfrules:proposalMode|function|GetProposalMode|; //Display the proposal mode

//======================================================================================================================
// Special service wfrules
//======================================================================================================================
// wfrules:WhatsChanged|function|WhatsChanged|; // Show what has changed
// wforder:WhatsChanged
// wfrules:DumpVars|function|wfDumpVars|cl_subject,other_depts,sponsors
// wforder:DumpVars

//======================================================================================================================
// Workflow selection order, first to last
//======================================================================================================================
wforder:Inactivate standard isDelete
wforder:Reactivate standard isReactivate

wforder:Dept Inactivate standard isDelete
wforder:Dept Reactivate standard isReactivate
wforder:Dept AcadLevel ProposalState
wforder:Dept ProposalState
wforder:Dept AcadLevel

wforder:Col Inactivate standard isDelete
wforder:Col Reactivate standard isReactivate
wforder:Col AcadLevel ProposalState
wforder:Col ProposalState
wforder:Col AcadLevel

wforder:Col standard
wforder:Dept standard

wforder:ProposalState standard
wforder:standard



//======================================================================================================================
//  version:"1.0.43"  -- dscudiero -- Wed 07/11/2018 @ 14:31:22
//======================================================================================================================
// Check in log
//======================================================================================================================
// Tue Mar 21 11:07:18 CDT 2017 - dscudiero - Added check in log comments
// 04-12-2017 @ 08.10.47 - (//)        - dscudiero - minor cleanup
// 04-14-2017 @ 07.26.51 - (//)        - dscudiero - General syncing of dev to prod
// 05-17-2017 @ 10.50.43 - (//)        - dscudiero - Update the related section
// 06-13-2017 @ 14.04.34 - (//)        - dscudiero - redo the attr definitions
// 07-25-2017 @ 10.55.43 - (//)        - dscudiero - Added checkin log
// 07-26-2017 @ 07.51.45 - (00.83)     - dscudiero - Changed default debugLevel to 3
// 07-27-2017 @ 12.37.01 - (02.50)     - dscudiero - Changed wfDumpVars example code
// 08-02-2017 @ 10.39.53 - (49.99)     - dscudiero - Added expanded workflow orders including AcadLevel
// 08-08-2017 @ 10.53.37 - (12.78)     - dscudiero - Refactored wforder
// 08-09-2017 @ 14.42.44 - (34.37)     - dscudiero - General syncing of dev to prod
// 08-25-2017 @ 10.57.40 - (22.34)     - dscudiero - Added the Form fields referenced section
// 08-28-2017 @ 11.36.40 - (22.34)     - dscudiero - Added TODO
// 09-06-2017 @ 07.26.13 - (45.71)     - dscudiero - Add example of voting record
// 10-03-2017 @ 10.07.38 - (50.09)     - dscudiero - Updated Vote example to remove blanks after the ';'s
// 10-17-2017 @ 10.10.14 - (21.13)     - dscudiero - Removed the ';' at the end of the esiglist examples
// 10-25-2017 @ 09.38.14 - (11.05)     - dscudiero - Reformatted comments
// 10-31-2017 @ 10.14.22 - (50.52)     - dscudiero - Basic cleanup
// 11-09-2017 @ 14.15.26 - (50.52)     - dscudiero - Added NotifyAllApprovers
// 11-28-2017 @ 14.51.00 - (55.14)     - dscudiero - Add all proposal state rules to the selectable conditionals
// 11-28-2017 @ 16.54.30 - (13.20)     - dscudiero - Added the isNotFirstStep conditional & code
// 12-05-2017 @ 11.06.17 - (54.68)     - dscudiero - Added the Annotate function
// 12-21-2017 @ 13.21.41 - (wfLibVersi - dscudiero - Add displaying 'wfLibVersion' in the debug workflow
