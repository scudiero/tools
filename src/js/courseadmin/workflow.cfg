//======================================================================================================================
// ??/??/18 - dgs - Initial - ??
//======================================================================================================================
// Set debug environments, any comma separated combination of 'dev','test','next'. e.g. debugEnvs:dev,test
wfDebugEnvs:dev,test
wfDebugLevel:1

//======================================================================================================================
//wfcomments = 'all', 'workflow', or some RegEx against the roles.  e.g. 'wfcomments: fyi(all)?$'
//or 'wfcomments: Committee$'
//======================================================================================================================
wfcomments:

//======================================================================================================================
//Notes to the Client, CSM, or Pilot reps -- used by getWorkflows WorkWith action
// wfNote:{"client","csm","pilot"}|noteText
//======================================================================================================================
//wfNote:client|asdasdas asdasd asdads asdad
//wfNote:csm|Form not implimented at the time of the audit, workflow is not functional, no testing has been performed
//wfNote:pilot|p1, eeeee, fffff,  gggg

//======================================================================================================================
// Define which variables are substituted -- used by getWorkflows WorkWith action
// wfSubRule:<attrName>|<sql query> or [data enumeration]|<optional mapper type>
//======================================================================================================================
wfSubRule:Col|SELECT code,name,access FROM codedesc WHERE setname="college"|col
wfSubRule:Dept|SELECT code,name,access FROM codedesc WHERE setname="department"|dept
wfSubRule:Subj|SELECT code,name,access FROM codedesc WHERE setname="subject"|subj
wfSubRule:RelatedDepts|wfSubRule(Dept)

//======================================================================================================================
// Substitution variables
//======================================================================================================================
// Add tcfonly=true; to only substitute the tcf data
//======================================================================================================================
wfrules:Col|attr|college.code|; //Substitutes the value(s) for'college'
wfrules:Dept|attr|department.code|; //Substitutes the value(s) for 'department'
wfrules:Subj|attr|subject.code|; //Substitutes the value(s) for 'subject'
//wfrules:Col|function|wfAttr|; //Substitutes the value(s) for'college'
//wfrules:Dept|function|wfAttr|; //Substitutes the value(s) for 'department'
//wfrules:Subj|function|wfAttr|; //Substitutes the value(s) for 'subject'


//======================================================================================================================
// 'Proposal State' conditionals
//======================================================================================================================
wfrules:isNew|iffieldmatch|newrecord|value=true; //Proposal for a new course
//wfrules:isNotNew|function|IsNotNew|; //Proposal is not for a new course
wfrules:isEdit|function|IsEdit|; //Proposal to modify an existing course
wfrules:isNotEdit|iffieldmatch|newrecord|value=true; //Proposal is not Edit
wfrules:isNotEdit|iffieldmatch|deleterec|value=true; //Proposal is not Edit
wfrules:isDelete|iffieldmatch|deleterec|value=true; //Proposal to delete an existing course
//wfrules:isNotDelete|function|IsNotDelete|; //Proposal is not for a course deletion
//wfrules:isInactivate|function|IsInactivate|; //Proposal to delete an existing course
//wfrules:isReactivate|function|IsReactivate|; //Proposal to reactivate an deleted course

//======================================================================================================================
// Academic level
//======================================================================================================================
//wfUgRe:^([1-4]\d{2}[A-Z]{0,1}|[1-9]\d{1}[A-Z]{0,1})$
//wfGrRe:^([5-9]\d{2}[A-Z]{0,1}|[1-9]\d{3}[A-Z]{0,1})$
//wfGrRe:^((?!UGRD).)*$

//wfrules:isUndergraduate|function|CheckAcadLevel|course_number,wfUgRe; //Proposal for an Undergraduate course
//wfrules:isGraduate|function|CheckAcadLevel|course_number,wfGrRe; //Proposal for an Graduate course
//wfrules:AcadLevel|function|GetAcadLevel|course_number,wfUgRe,UG,wfGrRe,GR; //Returns the academic level, 'UG' or 'GR'

//======================================================================================================================
// 'Custom' iffieldmatch conditionals
//======================================================================================================================
//wfrules:conditionalName|iffieldmatch|variableName.code|value=/^(val1 %7C val2 %7C val3)$/; //Proposal for

//======================================================================================================================
// 'Custom' Workflow function bindings
//======================================================================================================================

//======================================================================================================================
// 'Standard' Workflow function bindings
//======================================================================================================================
wfrules:RelatedDepts|function|RelatedDepts|; //Standard (core) RelatedDepts
//wfrules:ProposalState|function|ProposalState|; //Returns the proposal mode in the set {"NEW","EDIT","DELETE","REACTIVATE"}
//wfrules:WfStatus|function|TODO|; //Display workflow status in preview workflow
//wfrules:Annotate|function|AnnotateWorkflow|; //Annotate workflow -- text to appear in preview workflow
//wfrules:NoWorkflow|function|NoWorkflow|; //There is insufficient data to calculate workflow
//wfrules:NotifyAllApprovers|function|NotifyAll|spprovers; //Adds steps to notify all previous approver steps in workflow
//wfrules:isNotFirstStep|function|IsNotFirstStep|; //Include step only if it will not be the first step in workflow (i.e. for regen)

//======================================================================================================================
// Special service wfrules
//======================================================================================================================
//wfrules:WhatsChanged|function|WhatsChanged|; //Show what has changed
//wforder:WhatsChanged
//wfrules:wfDumpVars|function|wfDumpVars|cl_subject,other_depts,sponsors
//wforder:wfDumpVars

//======================================================================================================================
// Workflow selection order, first to last
//======================================================================================================================
wforder:Col/Dept/Subj Grad standard isGraduate
wforder:Col/Dept Grad standard isGraduate
wforder:Dept/Subj Grad standard isGraduate
wforder:Subj Grad standard isGraduate
wforder:Dept Grad standard isGraduate
wforder:Col Grad standard isGraduate
wforder:Grad standard isGraduate

wforder:Col/Dept/Subj standard
wforder:Col/Dept standard
wforder:Dept/Subj standard
wforder:Subj standard
wforder:Dept standard
wforder:Col standard
wforder:standard

//======================================================================================================================
//  version:"1.0.47"  -- dscudiero -- Thu 09/06/2018 @ 08:22:23
//======================================================================================================================
// Check-in log
//======================================================================================================================
// 08-08-2017 @ 10.53.28 - (41.16)     - dscudiero - Refactored wforder
// 08-08-2017 @ 16.31.15 - (35.19)     - dscudiero - misc updates
// 08-09-2017 @ 14.42.37 - (06.84)     - dscudiero - General syncing of dev to prod
// 08-23-2017 @ 10.33.36 - (20.74)     - dscudiero - removed client specific records
// 08-24-2017 @ 10.03.08 - (20.74)     - dscudiero - 
// 08-24-2017 @ 10.03.20 - (20.74)     - dscudiero - General syncing of dev to prod
// 08-25-2017 @ 10.57.35 - (30.19)     - dscudiero - Added the Form fields referenced section
// 08-28-2017 @ 11.41.49 - (29.48)     - dscudiero - Add TODO
// 09-06-2017 @ 07.26.03 - (28.78)     - dscudiero - Add example of voting record
// 09-11-2017 @ 15.51.46 - (28.78
)    - dscudiero - General syncing of dev to prod
// 09-22-2017 @ 12.14.55 - (19.78)     - dscudiero - Added NoWorkflow
// 10-03-2017 @ 10.07.30 - (29.10)     - dscudiero - Updated Vote example to remove blanks after the ';'s
// 10-17-2017 @ 10.10.06 - (10.81)     - dscudiero - Removed the ';' at the end of the esiglist examples
// 10-24-2017 @ 13.53.35 - (18.71)     - dscudiero - Remove debug statements from getAttrVal
// 10-25-2017 @ 09.37.46 - (55.46)     - dscudiero - Reformatted comments
// 10-25-2017 @ 16.44.40 - (00.98)     - dscudiero - Updated GetAttrVal to look at the tcf/tca data first
// 11-09-2017 @ 14.15.16 - (00.98)     - dscudiero - Added NotifyAllApprovers
// 11-28-2017 @ 16.54.26 - (21.69)     - dscudiero - Added the isNotFirstStep conditional & code
// 12-05-2017 @ 11.06.09 - (51.54)     - dscudiero - Added the Annotate function
// 12-21-2017 @ 13.21.25 - (wfLibVersi - dscudiero - Add displaying 'wfLibVersion' in the debug workflow
