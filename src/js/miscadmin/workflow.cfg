//======================================================================================================================
// ??/??/18 - dgs - Initial - ??
//======================================================================================================================
// Set debug environments, any comma separated combination of 'dev','test','next'. e.g. debugEnvs:dev,test
wfDebugEnvs:dev,test
wfDebugLevel:1

//======================================================================================================================
//wfcomments = 'all', 'workflow', or some RegEx against the roles.  e.g. 'wfcomments: fyi(all)?$'
//or 'wfcomments: Committee$'
//======================================================================================================================
wfcomments:

//======================================================================================================================
//Notes to the Client, CSM, Pilot reps, or CIM devs -- used by getWorkflows WorkWith action
// wfNote:{"client","csm","pilot","dev"}|noteText
//======================================================================================================================
wfNote:client|Need specifications for the conditional items highlighted in red

wfNote:csm|Form not completed, workflow has not been tested
wfNote:csm|Cimlookup (sisparent) has not data, department and college resolution will not function as expected

wfNote:pilot|Please review CSM and DEV notes 
//wfNote:dev|

//======================================================================================================================
// 'Proposal State' conditionals
//======================================================================================================================
wfrules:isNew|iffieldmatch|newrecord|value=true|; //Proposal for a new course
wfrules:isNotNew|function|IsNotNew|; //Proposal is not for a new course
wfrules:isEdit|function|IsEdit|; //Proposal to modify an existing course
wfrules:isNotEdit|iffieldmatch|newrecord|value=true|; //Proposal is not Edit
wfrules:isNotEdit|iffieldmatch|deleterec|value=true|; //Proposal is not Edit
wfrules:isDelete|iffieldmatch|deleterec|value=true|; //Proposal to delete an existing course
wfrules:isNotDelete|function|IsNotDelete|; //Proposal is not for a course deletion
wfrules:isInactivate|function|IsInactivate|; //Proposal to inactivate an existing course
wfrules:isNotInactivate|function|IsInactivate|; //Proposal not to inactivate an existing course
wfrules:isReactivate|function|IsReactivate|; //Proposal to reactivate an deleted course
wfrules:isNotReactivate|function|IsReactivate|; //Proposal not to reactivate an deleted course

//======================================================================================================================
// Define which variables are substituted -- used by getWorkflows WorkWith action
// wfSubRule:<attrName>|<sql query> or [data enumeration]|<optional mapper type>
//======================================================================================================================
wfSubRule:Col|SELECT code FROM codedesc WHERE setname="college" and rank >= 0 and (access <> 'retired' OR access IS NULL) order by code
wfSubRule:Dept|SELECT code FROM codedesc WHERE setname="department" and rank >= 0 and (access <> 'retired' OR access IS NULL) order by code
wfSubRule:Subj|SELECT code FROM codedesc WHERE setname="subject" and rank >= 0 and (access <> 'retired' OR access IS NULL) order by code
wfSubRule:RelatedDepts|wfSubRule(Dept)
wfSubRule:Consultation|noexpansion
wfSubRule:AcadLevel|[UG,GR,PR]
wfSubRule:ProposalState|[New,Edit,Delete,Inactivate,Reactivate]

//======================================================================================================================
// Substitution variables
//======================================================================================================================
// wfrules:Col|attr|college.code|; //Substitutes current & previous value of 'College' for 'Col'
// wfrules:Dept|attr|department.code|; //Substitutes current & previous value of 'Department' for 'Dept'
wfrules:RequestType|attr|miscrequest_type.code|

//======================================================================================================================
// 'Custom' iffieldmatch conditionals
//======================================================================================================================
//wfrules:conditionalName|iffieldmatch|<someVariable>.code|value=/^(<someValue> %7C <someValue> %7C <someValue>)$/|; //Proposal for

//======================================================================================================================
// 'Custom' Workflow function bindings
//======================================================================================================================

//======================================================================================================================
// 'Standard' Workflow function bindings
//======================================================================================================================
wfrules:RelatedDepts|function|RelatedDepts|; //Add steps for departments from the eco system
wfrules:ProposalState|function|ProposalState|; // Substitute proposal state for workflow selection, {'New','Edit','Deactivate','Inactivate','Reactivate'}
//wfrules:Annotate|function|AnnotateWorkflow|; //Annotate workflow -- text to appear in preview workflow
//wfrules:NoWorkflow|function|NoWorkflow|; //There is insufficient data to calculate workflow
//wfrules:NotifyAllApprovers|function|NotifyAll|spprovers; //Adds steps to notify all previous approver steps in workflow
//wfrules:isNotFirstStep|function|IsNotFirstStep|; //Include step only if it will not be the first step in workflow (i.e. for regen)

//======================================================================================================================
// Workflow selection order, first to last
//======================================================================================================================
wforder:RequestType standard
wforder:RequestType ProposalState standard
wforder:ProposalState standard
wforder:standard
